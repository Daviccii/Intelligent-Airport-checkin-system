<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Intelligent Airport — Progress</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:28px;color:#111}
    h1{margin-bottom:6px}
    .section{margin-top:18px}
    .file{font-family:monospace;background:#f3f4f6;padding:6px 10px;border-radius:6px;display:inline-block}
    ul{line-height:1.6}
    .ok{color:green}
    .pending{color:darkorange}
    .note{color:#555}
  </style>
</head>
<body>
  <h1>Intelligent Airport — Progress Summary</h1>
  <p class="note">Generated snapshot of current work in this workspace on the dev container.</p>

  <div class="section">
    <h2>Quick status</h2>
    <ul>
      <li><strong>Backend:</strong> Flask server in <span class="file">backend/app.py</span> — endpoints for register, login, flights, seat-map, autoassign, checkin implemented. <span class="ok">(implemented)</span></li>
      <li><strong>Frontend:</strong> Kiosk and admin pages in <span class="file">frontend/</span> — lookup UI updated with seat pref and autoassign wiring. <span class="ok">(implemented)</span></li>
      <li><strong>Seat allocation:</strong> Autoassign helper added and unit tests created. <span class="ok">(tests passing)</span></li>
      <li><strong>Tests:</strong> Unit & integration tests present under <span class="file">backend/tests/</span>. Use pytest/unittest to run. <span class="pending">(some tests exist)</span></li>
    </ul>
  </div>

  <div class="section">
    <h2>Key files changed</h2>
    <ul>
      <li><span class="file">backend/app.py</span> — added <code>autoassign_seat_from_capacity()</code>, autoassign endpoint improvements, seat label generation, passport validation integration.</li>
      <li><span class="file">backend/security_utils.py</span> — passport validation helper.</li>
      <li><span class="file">backend/tests/test_autoassign.py</span> — new unit tests for seat autoassign helper.</li>
      <li><span class="file">frontend/lookup.html</span> — seat preference select and autoassign button (UI wiring).</li>
    </ul>
  </div>

  <div class="section">
    <h2>How to view or run locally</h2>
    <ol>
      <li>Open this page at <a href="/frontend/progress.html">/frontend/progress.html</a> when served from the workspace root (example URL below).</li>
      <li>To run the app server (Flask) for manual testing, run from <span class="file">/workspaces/Intelligent-Airport-checkin-system/backend</span>:
        <pre>python app.py</pre>
      </li>
      <li>To quickly serve the repo files (static), run from the workspace root:
        <pre>python3 -m http.server 8000 --directory /workspaces/Intelligent-Airport-checkin-system</pre>
        then open: <a href="http://127.0.0.1:8000/frontend/progress.html">http://127.0.0.1:8000/frontend/progress.html</a>
      </li>
      <li>Run unit tests (example):
        <pre>PYTHONPATH=/workspaces/Intelligent-Airport-checkin-system/backend python -m unittest backend.tests.test_autoassign -v</pre>
      </li>
    </ol>
  </div>

  <div class="section">
    <h2>Next suggested steps</h2>
    <ul>
      <li>Finish API contract documentation and add more unit tests for edge cases (different aircraft layouts).</li>
      <li>Implement baggage rules and boarding-pass PDF export.</li>
      <li>Optionally start the Flask server and run manual kiosk flows from <span class="file">frontend/lookup.html</span>.</li>
    </ul>
  </div>

  <div class="section note">
    <strong>Local link:</strong>
    <p><a href="http://127.0.0.1:8000/frontend/progress.html">http://127.0.0.1:8000/frontend/progress.html</a> (served from workspace root via simple HTTP server)</p>
  </div>
</body>
</html>
<script src="/frontend/includes/fragment-loader.js"></script>
